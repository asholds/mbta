<!DOCTYPE html>
<html ng-app="App">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="initial-scale=1" />
	<meta name="apple-mobile-web-app-capable" content="yes">
	<title>MBTA</title>

    <script>document.write("<base href=\"" + document.location + "\" />");</script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular.min.js"></script>

	<script src="mbta.js"></script>

	<link rel="apple-touch-startup-image" href="startup.png">
	<link rel="apple-touch-icon" href="icon.png">

</head>
<body>
	<div ng-controller="MainController as main">
		<div ng-show="!main.stations.length">Loading</div>
		<div ng-show="main.stations.length">
			<button type="button" onClick="window.location.reload()">Reload</button>
			<ul ng-repeat="station in main.stations">
				<h1>{{station.name}}</h1>
				<h2>North</h2>
				<li ng-repeat="prediction in station.predictions | filter: { direction : 'Northbound' } | limitTo:3">
			    	{{prediction.headsign}} - {{prediction.distance | toMinSec}}
				</li>
				<br/>
				<h2>South</h2>
				<li ng-repeat="prediction in station.predictions | filter: { direction : 'Southbound' } | limitTo:3">
			   		{{prediction.headsign}} - {{prediction.distance | toMinSec}}
				</li>
			</ul>
		</div>
	</div>
</body>
</html>